{% extends 'main/base.html' %}

{% block title %}
  Список студентов
{% endblock %}

{% block content %}
  <div class="p-6">
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-3xl font-bold text-neutral-800">Список студентов</h1>
      <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors">Добавить студента</button>
    </div>

    <div class="bg-white rounded-md overflow-hidden shadow-sm">
      <div class="overflow-x-auto">
        <table class="w-full table-auto">
          <thead class="bg-neutral-50">
            <tr>
              <th class="px-6 py-3 text-left text-sm font-medium text-neutral-700">Группа</th>
              <th class="px-6 py-3 text-left text-sm font-medium text-neutral-700">Фамилия</th>
              <th class="px-6 py-3 text-left text-sm font-medium text-neutral-700">Имя</th>
              <th class="px-6 py-3 text-left text-sm font-medium text-neutral-700">Действия</th>
              <th class="px-6 py-3 text-left text-sm font-medium text-neutral-700">ID</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-neutral-200">
            {% for student in students %}
              <tr class="hover:bg-neutral-200/50 transition-all">
                <td class="px-6 py-4 text-sm text-neutral-600">{{ student.group.name }}</td>
                <td class="px-6 py-4 text-sm text-neutral-800">{{ student.last_name }}</td>
                <td class="px-6 py-4 text-sm text-neutral-800">{{ student.name }}</td>
                <td class="px-6 py-4 text-sm">
                  <button class="text-blue-600 hover:text-blue-800 mr-3 cursor-pointer">Редактировать</button>
                  <button class="text-red-600 hover:text-red-800 cursor-pointer">Удалить</button>
                </td>
                <td class="px-6 py-4 text-sm text-neutral-600">{{ student.id }}</td>
              </tr>
            {% empty %}
              <tr>
                <td colspan="6" class="px-6 py-8 text-center text-neutral-500">Студенты не найдены</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>

    <div class="mt-6 flex justify-between items-center">
      <div class="text-sm text-neutral-600">Показано {{ students.start_index }}-{{ students.end_index }} из {{ total_students }} студентов</div>

      {% if students.has_other_pages %}
        <nav class="flex space-x-2">
          {% if students.has_previous %}
            <a href="?page={{ students.previous_page_number }}" class="px-3 py-2 text-sm bg-neutral-200 text-neutral-700 rounded hover:bg-neutral-300 transition-colors">Предыдущая</a>
          {% else %}
            <span class="px-3 py-2 text-sm bg-neutral-100 text-neutral-400 rounded cursor-not-allowed">Предыдущая</span>
          {% endif %}

          {% for page_num in students.paginator.page_range %}
            {% if page_num == students.number %}
              <span class="px-3 py-2 text-sm bg-blue-500 text-white rounded">{{ page_num }}</span>
            {% else %}
              <a href="?page={{ page_num }}" class="px-3 py-2 text-sm bg-neutral-200 text-neutral-700 rounded hover:bg-neutral-300 transition-colors">{{ page_num }}</a>
            {% endif %}
          {% endfor %}

          {% if students.has_next %}
            <a href="?page={{ students.next_page_number }}" class="px-3 py-2 text-sm bg-neutral-200 text-neutral-700 rounded hover:bg-neutral-300 transition-colors">Следующая</a>
          {% else %}
            <span class="px-3 py-2 text-sm bg-neutral-100 text-neutral-400 rounded cursor-not-allowed">Следующая</span>
          {% endif %}
        </nav>
      {% endif %}
    </div>
  </div>
{% endblock %}
